
<!--_meta 作为公共模版分离出去-->
<!DOCTYPE HTML>
<html>
{include file="public/head" /}
<style>
	.right{
		text-align: right;
	}
	.row{
		margin: 0;
	}
	.form-label{
		font-size: 15px;
		font-weight: 500;
		margin-top: 18px;
	}
	.formControls{
		margin-top: 18px;
		font-size: 13px;
	}
	.Hui-iconfont{
		font-size: 70px;
		color:grey;
	}
</style>
<body>
<article class="cl pd-20" style="padding: 0;">
	<form action="{:url('goods/add')}" method="post" id="form-admin-add" enctype="multipart/form-data" >
	<!--<form action="{:url('goods/add')}" method="post" id="form-admin-add" enctype="multipart/form-data" onsubmit="window.parent.location.reload();" >-->
		<div class="row cl" style="padding-top: 10px">
			<label class="form-label col-xs-3 col-sm-3 right" style="text-align: right"><span class="c-red">*</span >商品名称：</label>
			<div class="formControls col-xs-9 col-sm-9">
				<input type="text" class="input-text" placeholder="" id="name" name="name" style="width: 50%" required>
				<span  class ="my_span" id="name_span" ></span>
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-3 col-sm-3 right"  style="text-align: right"><span class="c-red">*</span>定价：</label>
			<div class="formControls col-xs-9 col-sm-9">
				<input type="text" class="input-text" placeholder="" id="price" name="price" style="width: 20%;text-align: right" required> (元)
				<span  class ="my_span" id="name_span" ></span>
			</div>
		</div>
		<div class="row cl">
			<label class="form-label col-xs-3 col-sm-3 right"  style="text-align: right"><span class="c-red" >*</span>分类：</label>
			<div class="formControls col-xs-9 col-sm-9">
				<input type="radio"  id="radio_1" name="sex" value="男女" checked>中性
				<input type="radio"  id="sex" name="sex" value="男装" style="margin-left: 50px">男装
				<input type="radio"  id="sex" name="sex" value="女装"  style="margin-left: 50px">女装
			</div>
		</div>

		<!--商品颜色-->
		<div class="row cl"  >
			<label class="form-label col-xs-3 col-sm-3 right" style="text-align: right">商品颜色：</label>
			<div class="formControls col-xs-9 col-sm-9" id="color_div_2" >
					<input type="text" style="width: 25%;margin-right: 10px" class="input-text" placeholder="颜色一" id="color" name="color"  required>
					<input type="text" style="width: 25%;margin-right: 10px" class="input-text" placeholder="颜色二" id="color_2" name="color_2"   >
					<input type="text" style="width: 25%" class="input-text" placeholder="颜色三" id="color_3" name="color_3"     >
			</div>
		</div>

		<!--尺寸-->
		<div class="row cl" >
			<label class="form-label col-xs-3 col-sm-3 right"  style="text-align: right"><span class="c-red">*</span>尺寸：</label>
			<div class="formControls col-xs-9 col-sm-9">
				<div class="hui-form-radios">
					<input  style="width:30px;font-size:30px" type="checkbox" value="1" name="size_s" id="c1" checked /><label for="c1" style="margin-right: 10px;font-size: 17px">S</label>
					<input  style="width:30px;font-size:30px" type="checkbox" value="1" name="size_m" id="c2" checked /><label for="c2" style="margin-right: 10px;font-size: 17px">M</label>
					<input  style="width:30px;font-size:30px" type="checkbox" value="1" name="size_l" id="c3" checked /><label for="c3" style="margin-right: 10px;font-size: 17px">L</label>
					<input  style="width:30px;font-size:30px" type="checkbox" value="1" name="size_xl" id="c4" checked /><label for="c4" style="margin-right: 10px;font-size: 17px">XL</label>
					<input  style="width:30px;font-size:30px" type="checkbox" value="1" name="size_xxl" id="c5" checked /><label for="c5" style="margin-right: 10px;font-size: 17px">XXL</label>
				</div>
			</div>
		</div>
		<!--类型-->
		<div class="row cl">
			<label class="form-label col-xs-3 col-sm-3 right"  style="text-align: right"><span class="c-red">*</span>商品类型：</label>
			<div class="formControls col-xs-9 col-sm-2" style="width: 20%">
				<span class="select-box">
				<select class="select" name="type_1" id="type_1">
					<option>请选择</option>
					<option value="上衣">上衣</option>
					<option value="裤子">裤子</option>
					<option value="裙子">裙子</option>
					<option value="帽子">帽子</option>
					<option value="其他">其他</option>
				</select>
				</span>
			</div>
			<div class="formControls col-xs-3 col-sm-2" id="type_2" style="width: 20%"></div>
		</div>

		<!--上传图片-->
		<div class="row cl">
			<label class="form-label col-xs-3 col-sm-3 right"  style="text-align: right;margin-top: 40px"><span class="c-red">*</span>商品图片：</label>
			<div class="formControls col-xs-9 col-sm-2" style="width: 20%;margin-top: 0">
				<div class="row" style="width: 400px;overflow: hidden">
					<!--图片-->
					<img src="" id="preview_1" style="width: 70px;height: 70px;margin:0 1px;position: relative;bottom:23px " hidden="hidden" >
					<img src="" id="preview_2" style="width: 70px;height: 70px;margin:0 1px;position: relative;bottom:23px" hidden="hidden" >
					<img src="" id="preview_3" style="width: 70px;height: 70px;margin:0 1px;position: relative;bottom:23px" hidden="hidden" >
					<img src="" id="preview_4" style="width: 70px;height: 70px;margin:0 1px;position: relative;bottom:23px" hidden="hidden" >
					<!--按钮-->
					<!--1-->
					<label for="input_1">
						<i class="Hui-iconfont" id="input_1_img" >&#xe61f;</i>
					</label>
					<input type="file" name="image" id="input_1"  accept="image/gif,image/jpeg,image/x-png"  hidden/>
					<!--2-->
					<label for="input_2">
						<i class="Hui-iconfont" id="input_2_img" hidden>&#xe61f;</i>
					</label>
					<input type="file" name="image_2" id="input_2"  accept="image/gif,image/jpeg,image/x-png"  hidden/>
					<!--3-->
					<label for="input_3">
						<i class="Hui-iconfont" id="input_3_img" hidden>&#xe61f;</i>
					</label>
					<input type="file" name="image_3" id="input_3"  accept="image/gif,image/jpeg,image/x-png"  hidden/>
					<!--4-->
					<label for="input_4">
						<i class="Hui-iconfont" id="input_4_img" hidden>&#xe61f;</i>
					</label>
					<input type="file" name="image_4" id="input_4"  accept="image/gif,image/jpeg,image/x-png"  hidden/>
				</div>
			</div>
		</div>
		<!--细节图片-->
		<div class="row cl">
			<label class="form-label col-xs-3 col-sm-3 right"  style="text-align: right;margin-top: 0px">细节图片：</label>
			<div class="formControls col-xs-9 col-sm-2" style="width: 20%;margin-top: 0">
				<input type="file" name="details[]" multiple>
			</div>
		</div>
		<!--关键字-->
		<!--细节图片-->
		<div class="row cl" >
			<label class="form-label col-xs-3 col-sm-3 right"  style="text-align: right;margin-top: 25px">关键字：</label>
			<div class="formControls col-xs-9 col-sm-2" style="width: 20%;margin-top: 0">
				<div style="margin-top: 27px;width: 300px"><textarea name="keyword" cols="30" rows="3" placeholder="例: 夏装 七分 纯棉"></textarea></div>
			</div>
		</div>
		<!--提交-->
		<div class="row cl">
			<div ><input id="submit" class="btn btn-primary radius" type="submit" value="&nbsp&nbsp&nbsp上架&nbsp&nbsp&nbsp&nbsp" style="position: relative;left: 490px;top: 25px"></div>
		</div>
	</form>
</article>


{include file="public/footer" /}

<!--请在下方写此页面业务相关的脚本-->
<script type="text/javascript" src="__STATIC__/lib/jquery.validation/1.14.0/jquery.validate.js"></script> 
<script type="text/javascript" src="__STATIC__/lib/jquery.validation/1.14.0/validate-methods.js"></script> 
<script type="text/javascript" src="__STATIC__/lib/jquery.validation/1.14.0/messages_zh.js"></script>
<script src="__STATIC__/index/js/jquery-3.2.1.min.js"></script>
<script src="__STATIC__/layer/layer.js"></script>

<!--预览图片-->
<script>
	$(function(){
	    $('#input_1').change(function(){
            var preview = document.querySelector('#preview_1');
            var file    = document.querySelector('#input_1').files[0];
            var reader  = new FileReader();

            reader.onloadend = function () {
                preview.src = reader.result;
            }

            if (file) {
                reader.readAsDataURL(file);
            } else {
                preview.src = "";
            }
		})
	})
    $(function(){
        $('#input_2').change(function(){
            var preview = document.querySelector('#preview_2');
            var file    = document.querySelector('#input_2').files[0];
            var reader  = new FileReader();

            reader.onloadend = function () {
                preview.src = reader.result;
            }

            if (file) {
                reader.readAsDataURL(file);
            } else {
                preview.src = "";
            }
        })
    })
    $(function(){
        $('#input_3').change(function(){
            var preview = document.querySelector('#preview_3');
            var file    = document.querySelector('#input_3').files[0];
            var reader  = new FileReader();

            reader.onloadend = function () {
                preview.src = reader.result;
            }

            if (file) {
                reader.readAsDataURL(file);
            } else {
                preview.src = "";
            }
        })
    })
    $(function(){
        $('#input_4').change(function(){
            var preview = document.querySelector('#preview_4');
            var file    = document.querySelector('#input_4').files[0];
            var reader  = new FileReader();

            reader.onloadend = function () {
                preview.src = reader.result;
            }

            if (file) {
                reader.readAsDataURL(file);
            } else {
                preview.src = "";
            }
        })
    })
</script>
<script>
    $(function(){
        $("#input_1").change(function(){
      		$("#preview_1").removeAttr('hidden');
      		$("#input_2_img").removeAttr('hidden');

      		$("#input_1_img").attr('hidden','hidden');
        })

        $("#input_2").change(function(){
            $("#preview_2").removeAttr('hidden');
            $("#input_3_img").removeAttr('hidden');

            $("#input_2_img").attr('hidden','hidden');
        })

        $("#input_3").change(function(){
            $("#preview_3").removeAttr('hidden');
            $("#input_4_img").removeAttr('hidden');

            $("#input_3_img").attr('hidden','hidden');
        })

        $("#input_4").change(function(){
            $("#preview_4").removeAttr('hidden');


            $("#input_4_img").css('opacity',0);
        })
    })
</script>
<!--商品类型-->
<script>
	$(function(){
	    $('#type_1').change(function(){
			if($('#type_1').val() == '上衣'){
			    $('#type_2').empty();
			    $('#type_2').append('<span class="select-box" ><select class="select" name="type_2" >'+
					'<option value="衬衫">衬衫</option>' +
					'<option value="T恤">T恤</option>' +
					'<option value="卫衣">卫衣</option>' +
					'<option value="针织衫">针织衫</option>' +
					'<option value="外套">外套</option>' +
					'<option value="POLO衫">POLO衫</option>' +
                    '</span></select>');
			}
			else if($('#type_1').val() == '裤子') {
                $('#type_2').empty();
                $('#type_2').append('<span class="select-box" ><select class="select" name="type_2" >' +
                    '<option value="休闲裤">休闲裤</option>' +
                    '<option value="牛仔裤">牛仔裤</option>' +
                    '<option value="运动裤">运动裤</option>' +
                    '<option value="针织裤">针织裤</option>' +
                    '</span></select>');
            }else if($('#type_1').val() == '帽子'){
                $('#type_2').empty();
                $('#type_2').append('<span class="select-box" ><select class="select" name="type_2" >'+
                    '<option value="鸭舌帽">鸭舌帽</option>' +
                    '<option value="礼帽">礼帽</option>' +
                    '<option value="贝雷帽">贝雷帽</option>' +
                    '</span></select>');
			}else if($('#type_1').val() == '其他'){
                    $('#type_2').empty();
                    $('#type_2').append('<span class="select-box" ><select class="select" name="type_2" >'+
                        '<option value="围巾">围巾</option>' +
                        '<option value="手套">手套</option>' +
                        '<option value="袜子">袜子</option>' +
                        '<option value="其他">其他</option>' +
                        '</span></select>');
			}else if($('#type_1').val() == '裙子'){
                $('#type_2').empty();
                $('#type_2').append('<span class="select-box" ><select class="select" name="type_2" >'+
                    '<option value="长裙">长裙</option>' +
                    '<option value="短裙">短裙</option>' +
                    '</span></select>');
            }
		})
	})
</script>
<!--验证商品名称-->
<script>
    $(function(){
        $('#name').change(function(){
            $.post("{:url('Goods/checkName')}",{"name":$(this).val()},function(data){
                if(data.status==0){
                    $("#name_span").empty();
                    $("#name_span").html(data.message);
				}else{
                    $("#name_span").empty();
				}
            });
        });
    });
</script>


</body>
</html>